<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core>">
    <h:head>Formulario para inscribir a un nuevo paciente:</h:head>
    <h:body>
        <br></br>
        <br></br>
        <h:form id="vistaPacientes">
            Id: <p:inputText value="#{ConsultasBean.id}"> </p:inputText> <br></br>
            Tipo id: <p:inputText value="#{ConsultasBean.idType}"> </p:inputText> <br></br>
            Nombre: <p:inputText value="#{ConsultasBean.nombre}"> </p:inputText> <br></br>
            Fecha de nacimiento: <p:inputText value="#{ConsultasBean.fecha}"> </p:inputText> <br></br>
            <p:commandButton value="Submit" actionListener="#{ConsultasBean.registrarPaciente()}" update="vistaPacientes" > 
            </p:commandButton >
            <br></br>
            <br></br>
            <br></br>
            <p:dataTable var="paciente" value="#{ConsultasBean.pacientes}">
                 <p:column headerText="Id"  sortBy="#{paciente.id}">
                     <h:outputText value="#{paciente.id}" />
                 </p:column>
                 <p:column headerText="Tipo Id">
                     <h:outputText value="#{paciente.tipo_id}" />
                 </p:column>
                 <p:column headerText="Nombre">
                     <h:outputText value="#{paciente.nombre}" />
                 </p:column>
                 <p:column headerText="Fecha de nacimiento">
                     <h:outputText value="#{paciente.fechaNacimiento}" />
                 </p:column>
                <p:column headerText="Cita">
                    <p:commandButton value="Registrar cita" action="registroconsultas" actionListener="#{ConsultasBean.setPa(paciente)}"> 
                     </p:commandButton >
                 </p:column>
             </p:dataTable>
        </h:form>
    </h:body>

</html>